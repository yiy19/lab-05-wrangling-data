---
title: "Lab 05 - Wrangling spatial data"
author: "Ye Dam Yi"
date: "3/2/2021"
output: html_document
---

```{r setup, eval = FALSE}
devtools::install_github("rstudio-education/dsbox")
install.packages("tiff", type="source") 

```

```{r library}
library(tidyverse) 
library(dsbox) 
library(imager)
```
#### Data declaration

```{r data}
dn <- dennys
lq <- laquinta
```

#### Ex 1. Filter the Denny’s dataframe for Alaska (AK) and save the result as dn_ak. How many Denny’s locations are there in Alaska?

```{r ex1-dn-alaska}
dn_ak <- dn %>%
  filter(state == "AK") # filter for Denny's locations in AK
nrow(dn_ak)             # count the number of observations

```
There are three Denny's locations in Alaska. 

#### Ex 2. Filter the La Quinta dataframe for Alaska (AK) and save the result as lq_ak. How many La Quinta locations are there in Alaska?
```{r ex2-lq-alaska}
lq_ak <- lq %>%
  filter(state == "AK")
nrow(lq_ak)
```
There are two La Quinta's locations in Alaska.

### Next we’ll calculate the distance between all Denny’s and all La Quinta locations in Alaska. 

#### Ex 3. How many pairings are there between all Denny’s and all La Quinta locations in Alaska, i.e., how many distances do we need to calculate between the locations of these establishments in Alaska?

We need to calculate 2 X 3 = 6 distances between the locations of all Denny's and La Quinta in Alaska.

#### In order to calculate these six distances, we first need to combine the two dataframes by using join. The resulting dataframe will contain a table looking like this:

```{r image, fig.height=4, fig.width=5}
im <- load.image("/Users/yedam/Documents/GitHub/DSP/LAB/lab-05-wrangling-data/dennys-laquinta-sketches.004.png")
plot(im)

```
```{r full-join}
dn_lq_ak <- full_join(dn_ak, lq_ak, by = "state")
dn_lq_ak
```

#### Ex 4. How many observations are in the joined dn_lq_ak data frame? What are the names of the variables in this data frame.

There are 11 observations in the joined dn_lq_ak frame. The variables are as follows: address.x, city.x, state, zip.x, longitude.x, address.y, city.y, zip.y, longitude.y, and latitude.y.

Note: .x in the variable names means the variable comes from the x data frame (the first argument in the full_join call, i.e. dn_ak), and .y means the variable comes from the y data frame. These variables are renamed to include .x and .y because the two data frames have the same variables and it’s not possible to have two variables in a data frame with the exact same name.




